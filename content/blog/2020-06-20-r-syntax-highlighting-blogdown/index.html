---
title: 'R Snytax Highlighting in blogdown'
author: ~
date: '2020-06-20'
categories: []
tags: []
description:
draft: true
output:
  blogdown::html_page:
    toc: true
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>Hugo shortcodes</p>
<pre class="r"><code>blogdown::shortcode_html(&quot;highlight&quot;, &quot;r&quot;, .content = code)</code></pre>
{{< highlight "r" >}}
library(tidyverse)

urchins <- read_csv("https://tidymodels.org/start/models/urchins.csv") %>%
  setNames(c("food_regime", "initial_volume", "width")) %>%
  mutate(food_regime = factor(food_regime, levels = c("Initial", "Low", "High")))

urchins %>%
  group_by(food_regime) %>%
  summarise(
    across(everything(), mean), n = n()
  )
{{< /highlight >}}
<p>highlight.js</p>
<pre class="r"><code>library(tidyverse)

urchins &lt;- read_csv(&quot;https://tidymodels.org/start/models/urchins.csv&quot;) %&gt;%
  setNames(c(&quot;food_regime&quot;, &quot;initial_volume&quot;, &quot;width&quot;)) %&gt;%
  mutate(food_regime = factor(food_regime, levels = c(&quot;Initial&quot;, &quot;Low&quot;, &quot;High&quot;)))

urchins %&gt;%
  group_by(food_regime) %&gt;%
  summarise(
    across(everything(), mean), n = n()
  )</code></pre>
<p>There is also the highlight <a href="https://github.com/romainfrancois/highlight">R package</a>.</p>
<p>One option provides standard highlighting:</p>
<pre class="r"><code>library(highlight)
highlight(code, detective = lestrade)</code></pre>
<pre><code>##  [1] &quot;&lt;pre class=&#39;rcode&#39;&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
##  [2] &quot;&lt;span class=&#39;functioncall&#39;&gt;library&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol&#39;&gt;tidyverse&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
##  [3] &quot;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##  [4] &quot;&lt;span class=&#39;symbol&#39;&gt;urchins&lt;/span&gt; &lt;span class=&#39;assignment&#39;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#39;functioncall&#39;&gt;read_csv&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;string&#39;&gt;\&quot;https://tidymodels.org/start/models/urchins.csv\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                       
##  [5] &quot;  &lt;span class=&#39;functioncall&#39;&gt;setNames&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;functioncall&#39;&gt;c&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;string&#39;&gt;\&quot;food_regime\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;initial_volume\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;width\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                   
##  [6] &quot;  &lt;span class=&#39;functioncall&#39;&gt;mutate&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol_argument&#39;&gt;food_regime&lt;/span&gt; &lt;span class=&#39;argument&#39;&gt;=&lt;/span&gt; &lt;span class=&#39;functioncall&#39;&gt;factor&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol&#39;&gt;food_regime&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;symbol_argument&#39;&gt;levels&lt;/span&gt; &lt;span class=&#39;argument&#39;&gt;=&lt;/span&gt; &lt;span class=&#39;functioncall&#39;&gt;c&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;string&#39;&gt;\&quot;Initial\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;Low\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;High\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;\n&quot;
##  [7] &quot;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
##  [8] &quot;&lt;span class=&#39;symbol&#39;&gt;urchins&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
##  [9] &quot;  &lt;span class=&#39;functioncall&#39;&gt;group_by&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol&#39;&gt;food_regime&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
## [10] &quot;  &lt;span class=&#39;functioncall&#39;&gt;summarise&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
## [11] &quot;    &lt;span class=&#39;functioncall&#39;&gt;across&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;functioncall&#39;&gt;everything&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;symbol&#39;&gt;mean&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;symbol_argument&#39;&gt;n&lt;/span&gt; &lt;span class=&#39;argument&#39;&gt;=&lt;/span&gt; &lt;span class=&#39;functioncall&#39;&gt;n&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                    
## [12] &quot;  &lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
## [13] &quot;&lt;/pre&gt;&quot;</code></pre>
<p>The unique one here is the semantic highlighting, where words have
unique coding depending on the context.</p>
<pre class="r"><code>highlight(code, detective = sherlock())</code></pre>
<pre><code>##  [1] &quot;&lt;pre class=&#39;rcode&#39;&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
##  [2] &quot;&lt;span class=&#39;functioncall&#39; style=&#39;color: #8166CC ; &#39;&gt;library&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol&#39; style=&#39;color: #9ECC66 ; &#39;&gt;tidyverse&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
##  [3] &quot;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
##  [4] &quot;&lt;span class=&#39;symbol&#39; style=&#39;color: #66CCCA ; &#39;&gt;urchins&lt;/span&gt; &lt;span class=&#39;assignment&#39;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#39;functioncall&#39; style=&#39;color: #B2CC66 ; &#39;&gt;read_csv&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;string&#39;&gt;\&quot;https://tidymodels.org/start/models/urchins.csv\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
##  [5] &quot;  &lt;span class=&#39;functioncall&#39; style=&#39;color: #66CC97 ; &#39;&gt;setNames&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;functioncall&#39; style=&#39;color: #6766CC ; &#39;&gt;c&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;string&#39;&gt;\&quot;food_regime\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;initial_volume\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;width\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                           
##  [6] &quot;  &lt;span class=&#39;functioncall&#39; style=&#39;color: #CC66AA ; &#39;&gt;mutate&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol_argument&#39; style=&#39;color: #B0CC66 ; &#39;&gt;food_regime&lt;/span&gt; &lt;span class=&#39;argument&#39;&gt;=&lt;/span&gt; &lt;span class=&#39;functioncall&#39; style=&#39;color: #66CCB8 ; &#39;&gt;factor&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol&#39; style=&#39;color: #B0CC66 ; &#39;&gt;food_regime&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;symbol_argument&#39; style=&#39;color: #B866CC ; &#39;&gt;levels&lt;/span&gt; &lt;span class=&#39;argument&#39;&gt;=&lt;/span&gt; &lt;span class=&#39;functioncall&#39; style=&#39;color: #6766CC ; &#39;&gt;c&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;string&#39;&gt;\&quot;Initial\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;Low\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;string&#39;&gt;\&quot;High\&quot;&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;\n&quot;
##  [7] &quot;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
##  [8] &quot;&lt;span class=&#39;symbol&#39; style=&#39;color: #66CCCA ; &#39;&gt;urchins&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
##  [9] &quot;  &lt;span class=&#39;functioncall&#39; style=&#39;color: #7C66CC ; &#39;&gt;group_by&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;symbol&#39; style=&#39;color: #B0CC66 ; &#39;&gt;food_regime&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt; &lt;span class=&#39;magrittr_pipe special&#39;&gt;%&amp;gt;%&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
## [10] &quot;  &lt;span class=&#39;functioncall&#39; style=&#39;color: #A466CC ; &#39;&gt;summarise&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
## [11] &quot;    &lt;span class=&#39;functioncall&#39; style=&#39;color: #C466CC ; &#39;&gt;across&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;functioncall&#39; style=&#39;color: #9166CC ; &#39;&gt;everything&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;symbol&#39; style=&#39;color: #6699CC ; &#39;&gt;mean&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;,&lt;/span&gt; &lt;span class=&#39;symbol_argument&#39; style=&#39;color: #CC66AD ; &#39;&gt;n&lt;/span&gt; &lt;span class=&#39;argument&#39;&gt;=&lt;/span&gt; &lt;span class=&#39;functioncall&#39; style=&#39;color: #CC66AD ; &#39;&gt;n&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;(&lt;/span&gt;&lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;\n&quot;                                                                                                                                                                                                                                                              
## [12] &quot;  &lt;span class=&#39;keyword&#39;&gt;)&lt;/span&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
## [13] &quot;&lt;/pre&gt;&quot;</code></pre>
